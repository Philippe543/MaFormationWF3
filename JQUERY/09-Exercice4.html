<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Exercice 4 API</title>
</head>
<body>
    <form id="MonFormulaire" method="post" action="connexion.php">
        <input type="text" name="email" placeholder="Email"><br><br>
        <input type="text" name="mdp" placeholder="mot de passe"><br><br>
        <input type="submit" id="submit" value="connexion">
    </form>

    <!-- Consigne : avec l'aide de JQuery, vous decez :
    1. a l'aide d'une API de Géolocalisation, vous affichez dans un paragraphe du formulaire l'adresse IP ainsi que la ville et/ou code postal de l'utilisateur connecté.
    
    //Utilisation de JSonp geoip.nekudo.com || ip-api.com

        -->

     <script src="https://code.jquery.com/jquery-3.1.1.min.js"
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
    crossorigin="anonymous"></script>
     <script>
     $(function(){
         //--1 une requête Ajax simple
        // $.ajax('http://geoip.nekudo.com/api/').done(function(resultat){
       //  console.log(resultat);
        //--2 avec getJSON et JSONP (callback)
        $.getJSON('http://ip-api.com/json/?callback=',function(resultat){
         console.log(resultat);

         // -- Affichage sur ma page
         $('<p>').text("votre IP est surveillé : " + resultat.query+"  "+resultat.isp).css({'background':'yellow','color':'red'}).appendTo($('form'));

         });
        


     });
   
     
     
     </script>


</body>
</html>